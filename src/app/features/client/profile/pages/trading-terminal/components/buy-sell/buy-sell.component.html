<div class="order-container">
  <!-- Success/Error Messages -->
  <div *ngIf="successMessage" class="alert alert-success">
    {{ successMessage }}
  </div>
  <div *ngIf="errorMessage" class="alert alert-error">
    {{ errorMessage }}
  </div>

  <!-- Order Type Tabs -->
  <!-- <div class="order-type-tabs">
    <button
      class="type-tab-btn"
      [class.order-type-active]="activeOrderType === 'limit'"
      (click)="switchOrderType('limit')"
    >
      Limit
    </button>
    <button
      class="type-tab-btn"
      [class.order-type-active]="activeOrderType === 'market'"
      (click)="switchOrderType('market')"
    >
      Market
    </button>
    <button
      class="type-tab-btn"
      [class.order-type-active]="activeOrderType === 'stop_limit'"
      (click)="switchOrderType('stop_limit')"
    >
      Stop Limit
    </button>
  </div> -->

  <div class="orders-row">
    <!-- BUY PANEL -->
    <div class="order-panel buy-panel">
      <div class="panel-header buy">Buy {{ baseAsset }}</div>

      <!-- Price (for limit and stop_limit orders) -->
      <div class="form-group" *ngIf="activeOrderType !== 'market'">
        <label class="form-label">
          Price
          <span class="form-value" *ngIf="ticker">{{ ticker.price | number : '1.2-2' }} USDT</span>
        </label>
        <div class="input-wrapper">
          <input
            type="number"
            class="form-input with-suffix"
            [(ngModel)]="buyPrice"
            (ngModelChange)="onBuyPriceChange()"
            placeholder="0.00"
          />
          <span class="input-suffix">USDT</span>
        </div>
      </div>

      <!-- Trigger Price (for stop_limit orders) -->
      <div class="form-group" *ngIf="activeOrderType === 'stop_limit'">
        <label class="form-label">
          Trigger Price
          <span class="form-value">Stop when price reaches</span>
        </label>
        <div class="input-wrapper">
          <input
            type="number"
            class="form-input with-suffix"
            [(ngModel)]="buyTriggerPrice"
            placeholder="0.00"
          />
          <span class="input-suffix">USDT</span>
        </div>
      </div>

      <!-- Amount -->
      <div class="form-group">
        <label class="form-label">
          Amount
          <span class="form-value"
            >Available: {{ quoteAssetBalance?.free || 0 | number : '1.2-2' }} USDT</span
          >
        </label>
        <div class="input-wrapper">
          <input
            type="number"
            class="form-input with-suffix"
            [(ngModel)]="buyAmount"
            (ngModelChange)="onBuyAmountChange()"
            placeholder="0.00"
          />
          <span class="input-suffix">{{ baseAsset }}</span>
        </div>
        <div class="slider-container">
          <button class="slider-btn" (click)="setBuyPercentage(25)">25%</button>
          <button class="slider-btn" (click)="setBuyPercentage(50)">50%</button>
          <button class="slider-btn" (click)="setBuyPercentage(75)">75%</button>
          <button class="slider-btn" (click)="setBuyPercentage(100)">100%</button>
        </div>
      </div>

      <!-- Price Info -->
      <div class="price-info">
        <div class="info-item">
          <span class="info-label">Total</span>
          <span class="info-value">{{ buyTotal | number : '1.2-2' }} USDT</span>
        </div>
        <div class="info-item">
          <span class="info-label">Fee (0%)</span>
          <span class="info-value">{{ buyFee | number : '1.2-2' }} USDT</span>
        </div>
      </div>

      <!-- Buy Button -->
      <div class="button-group">
        <button class="btn buy" [disabled]="processing">
          {{ processing ? 'Processing...' : 'Buy ' + baseAsset }}
        </button>
      </div>
    </div>

    <!-- SELL PANEL -->
    <div class="order-panel sell-panel">
      <div class="panel-header sell">Sell {{ baseAsset }}</div>

      <!-- Price (for limit and stop_limit orders) -->
      <div class="form-group" *ngIf="activeOrderType !== 'market'">
        <label class="form-label">
          Price
          <span class="form-value" *ngIf="ticker">{{ ticker.price | number : '1.2-2' }} USDT</span>
        </label>
        <div class="input-wrapper">
          <input
            type="number"
            class="form-input with-suffix"
            [(ngModel)]="sellPrice"
            (ngModelChange)="onSellPriceChange()"
            placeholder="0.00"
          />
          <span class="input-suffix">USDT</span>
        </div>
      </div>

      <!-- Trigger Price (for stop_limit orders) -->
      <div class="form-group" *ngIf="activeOrderType === 'stop_limit'">
        <label class="form-label">
          Trigger Price
          <span class="form-value">Stop when price reaches</span>
        </label>
        <div class="input-wrapper">
          <input
            type="number"
            class="form-input with-suffix"
            [(ngModel)]="sellTriggerPrice"
            placeholder="0.00"
          />
          <span class="input-suffix">USDT</span>
        </div>
      </div>

      <!-- Amount -->
      <div class="form-group">
        <label class="form-label">
          Amount
          <span class="form-value"
            >Available: {{ baseAssetBalance?.free || 0 | number : '1.4-8' }} {{ baseAsset }}</span
          >
        </label>
        <div class="input-wrapper">
          <input
            type="number"
            class="form-input with-suffix"
            [(ngModel)]="sellAmount"
            (ngModelChange)="onSellAmountChange()"
            placeholder="0.00"
          />
          <span class="input-suffix">{{ baseAsset }}</span>
        </div>
        <div class="slider-container">
          <button class="slider-btn" (click)="setSellPercentage(25)">25%</button>
          <button class="slider-btn" (click)="setSellPercentage(50)">50%</button>
          <button class="slider-btn" (click)="setSellPercentage(75)">75%</button>
          <button class="slider-btn" (click)="setSellPercentage(100)">100%</button>
        </div>
      </div>

      <!-- Price Info -->
      <div class="price-info">
        <div class="info-item">
          <span class="info-label">Total</span>
          <span class="info-value">{{ sellTotal | number : '1.2-2' }} USDT</span>
        </div>
        <div class="info-item">
          <span class="info-label">Fee (0%)</span>
          <span class="info-value">{{ sellFee | number : '1.2-2' }} USDT</span>
        </div>
      </div>

      <!-- Sell Button -->
      <div class="button-group">
        <button class="btn sell" [disabled]="processing">
          {{ processing ? 'Processing...' : 'Sell ' + baseAsset }}
        </button>
      </div>
    </div>
  </div>
</div>
